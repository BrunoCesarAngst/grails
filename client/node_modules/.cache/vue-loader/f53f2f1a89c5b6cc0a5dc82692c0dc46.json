{"remainingRequest":"/Users/bruno/www/grails/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bruno/www/grails/client/src/components/Garagem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bruno/www/grails/client/src/components/Garagem.vue","mtime":1649478627900},{"path":"/Users/bruno/www/grails/client/node_modules/cache-loader/dist/cjs.js","mtime":1649125890391},{"path":"/Users/bruno/www/grails/client/node_modules/babel-loader/lib/index.js","mtime":1649125889716},{"path":"/Users/bruno/www/grails/client/node_modules/cache-loader/dist/cjs.js","mtime":1649125890391},{"path":"/Users/bruno/www/grails/client/node_modules/vue-loader/lib/index.js","mtime":1649125928530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcHBIZWFkZXIgZnJvbSAnLi9BcHBIZWFkZXInCmltcG9ydCBWZWljdWxvRm9ybSBmcm9tICcuL2Zvcm0vVmVpY3Vsb0Zvcm0nCmltcG9ydCBWZWljdWxvVGFibGUgZnJvbSAnLi90YWJsZS9WZWljdWxvVGFibGUnCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQXBwSGVhZGVyLAogICAgVmVpY3Vsb0Zvcm0sCiAgICBWZWljdWxvVGFibGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHZlaWN1bG9zOiBbXSwKICAgICAgdmVpY3Vsbzoge25vbWU6ICcnLCBjb25kdXRvcjogbnVsbCwgZmFicmljYW50ZTogbnVsbCwgbW9kZWxvOiBudWxsfSwKICAgICAgY29uZHV0b3JlczogW10sCiAgICAgIGZhYnJpY2FudGVzOiBbXSwKICAgICAgbW9kZWxvczogW10sCiAgICAgIHNlcnZlclVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9TRVJWRVJfVVJMCiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRGF0YTogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICB0cnkgewogICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFsKICAgICAgICAgIHRoaXMuZmV0Y2hWZWljdWxvcygpLAogICAgICAgICAgdGhpcy5mZXRjaENvbmR1dG9yZXMoKSwKICAgICAgICAgIHRoaXMuZmV0Y2hGYWJyaWNhbnRlcygpLAogICAgICAgICAgdGhpcy5mZXRjaE1vZGVsb3MoKSwKICAgICAgICBdKQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICB9CiAgICB9LAogICAgZmV0Y2hWZWljdWxvczogZnVuY3Rpb24gKCkgewogICAgICBmZXRjaChgJHt0aGlzLnNlcnZlclVSTH0vdmVpY3Vsb2ApCiAgICAgICAgLnRoZW4ociA9PiByLmpzb24oKSkKICAgICAgICAudGhlbihqc29uID0+IHsgdGhpcy52ZWljdWxvcyA9IGpzb24gfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcignUmVjdXBlcmHDp8OjbyBkZSBlcnJvIHZlaWN1bG9zOiAnICsgZXJyb3IpKQogICAgfSwKICAgIGZldGNoQ29uZHV0b3JlczogZnVuY3Rpb24gKCkgewogICAgICBmZXRjaChgJHt0aGlzLnNlcnZlclVSTH0vY29uZHV0b3JgKQogICAgICAgIC50aGVuKHIgPT4gci5qc29uKCkpCiAgICAgICAgLnRoZW4oanNvbiA9PiB7IHRoaXMuY29uZHV0b3JlcyA9IGpzb24gfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcignUmVjdXBlcmHDp8OjbyBkZSBlcnJvIGNvbmR1dG9yZXM6ICcgKyBlcnJvcikpCiAgICB9LAogICAgZmV0Y2hGYWJyaWNhbnRlczogZnVuY3Rpb24gKCkgewogICAgICBmZXRjaChgJHt0aGlzLnNlcnZlclVSTH0vZmFicmljYW50ZWApCiAgICAgICAgLnRoZW4ociA9PiByLmpzb24oKSkKICAgICAgICAudGhlbihqc29uID0+IHsgdGhpcy5mYWJyaWNhbnRlcyA9IGpzb24gfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcignUmVjdXBlcmHDp8OjbyBkZSBlcnJvIGZhYnJpY2FudGVzOiAnICsgZXJyb3IpKQogICAgfSwKICAgIGZldGNoTW9kZWxvczogZnVuY3Rpb24gKCkgewogICAgICBmZXRjaChgJHt0aGlzLnNlcnZlclVSTH0vbW9kZWxvYCkKICAgICAgICAudGhlbihyID0+IHIuanNvbigpKQogICAgICAgIC50aGVuKGpzb24gPT4geyB0aGlzLm1vZGVsb3MgPSBqc29uIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ1JlY3VwZXJhw6fDo28gZGUgZXJybyBtb2RlbG9zOiAnICsgZXJyb3IpKQogICAgfSwKICAgIHN1Ym1pdE5ld1ZlaWN1bG86IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc3QgdmVpY3VsbyA9IHRoaXMudmVpY3VsbwogICAgICBmZXRjaChgJHt0aGlzLnNlcnZlclVSTH0vdmVpY3Vsb2AsIHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodmVpY3VsbykKICAgICAgfSkudGhlbihyID0+IHIuanNvbigpKQogICAgICAgIC50aGVuKGpzb24gPT4gewogICAgICAgICAgdGhpcy52ZWljdWxvcy5wdXNoKGpzb24pCiAgICAgICAgICB0aGlzLnZlaWN1bG8gPSB7bm9tZTogJycsIGNvbmR1dG9yOiBudWxsLCBmYWJyaWNhbnRlOiBudWxsLCBtb2RlbG86IG51bGx9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXggPT4gY29uc29sZS5lcnJvcignSW1wb3Nzw612ZWwgc2FsdmFyIHZlaWN1bG8nLCBleCkpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Garagem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Garagem.vue","sourceRoot":"src/components","sourcesContent":["\n<template>\n  <div id=\"garage\">\n    <app-header></app-header>\n    <veiculo-form v-model=\"veiculo\"\n                  :condutores=\"condutores\"\n                  :fabricantes=\"fabricantes\"\n                  :modelos=\"modelos\"\n                  @submit=\"submitNewVeiculo()\">\n\n    </veiculo-form>\n    <veiculo-table :veiculos=\"veiculos\"></veiculo-table>\n  </div>\n</template>\n\n<script>\n  import AppHeader from './AppHeader'\n  import VeiculoForm from './form/VeiculoForm'\n  import VeiculoTable from './table/VeiculoTable'\n\n  export default {\n    components: {\n      AppHeader,\n      VeiculoForm,\n      VeiculoTable\n    },\n    data: function () {\n      return {\n        veiculos: [],\n        veiculo: {nome: '', condutor: null, fabricante: null, modelo: null},\n        condutores: [],\n        fabricantes: [],\n        modelos: [],\n        serverURL: process.env.VUE_APP_SERVER_URL\n      }\n    },\n    created () {\n      this.fetchData()\n    },\n    methods: {\n      fetchData: async function () {\n        try {\n          await Promise.all([\n            this.fetchVeiculos(),\n            this.fetchCondutores(),\n            this.fetchFabricantes(),\n            this.fetchModelos(),\n          ])\n        } catch (error) {\n          console.log(error)\n        }\n      },\n      fetchVeiculos: function () {\n        fetch(`${this.serverURL}/veiculo`)\n          .then(r => r.json())\n          .then(json => { this.veiculos = json })\n          .catch(error => console.error('Recuperação de erro veiculos: ' + error))\n      },\n      fetchCondutores: function () {\n        fetch(`${this.serverURL}/condutor`)\n          .then(r => r.json())\n          .then(json => { this.condutores = json })\n          .catch(error => console.error('Recuperação de erro condutores: ' + error))\n      },\n      fetchFabricantes: function () {\n        fetch(`${this.serverURL}/fabricante`)\n          .then(r => r.json())\n          .then(json => { this.fabricantes = json })\n          .catch(error => console.error('Recuperação de erro fabricantes: ' + error))\n      },\n      fetchModelos: function () {\n        fetch(`${this.serverURL}/modelo`)\n          .then(r => r.json())\n          .then(json => { this.modelos = json })\n          .catch(error => console.error('Recuperação de erro modelos: ' + error))\n      },\n      submitNewVeiculo: function () {\n        const veiculo = this.veiculo\n        fetch(`${this.serverURL}/veiculo`, {\n          method: 'POST',\n          headers: {'Content-Type': 'application/json'},\n          body: JSON.stringify(veiculo)\n        }).then(r => r.json())\n          .then(json => {\n            this.veiculos.push(json)\n            this.veiculo = {nome: '', condutor: null, fabricante: null, modelo: null}\n          })\n          .catch(ex => console.error('Impossível salvar veiculo', ex))\n      }\n    }\n  }\n</script>\n\n<!-- Per Component Custom CSS Rules -->\n<style>\n  #garage {\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    text-align: center;\n    color: #2c3e50;\n  }\n</style>"]}]}