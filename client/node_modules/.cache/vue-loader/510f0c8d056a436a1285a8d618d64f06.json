{"remainingRequest":"/Users/bruno/www/grails/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bruno/www/grails/client/src/components/Garagem.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/bruno/www/grails/client/src/components/Garagem.vue","mtime":1649478627900},{"path":"/Users/bruno/www/grails/client/node_modules/css-loader/dist/cjs.js","mtime":1649125928110},{"path":"/Users/bruno/www/grails/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1649125928530},{"path":"/Users/bruno/www/grails/client/node_modules/postcss-loader/src/index.js","mtime":1649125928454},{"path":"/Users/bruno/www/grails/client/node_modules/cache-loader/dist/cjs.js","mtime":1649125890391},{"path":"/Users/bruno/www/grails/client/node_modules/vue-loader/lib/index.js","mtime":1649125928530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojZ2FyYWdlIHsKICBmb250LWZhbWlseTogJ0F2ZW5pcicsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGNvbG9yOiAjMmMzZTUwOwp9Cg=="},{"version":3,"sources":["Garagem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA","file":"Garagem.vue","sourceRoot":"src/components","sourcesContent":["\n<template>\n  <div id=\"garage\">\n    <app-header></app-header>\n    <veiculo-form v-model=\"veiculo\"\n                  :condutores=\"condutores\"\n                  :fabricantes=\"fabricantes\"\n                  :modelos=\"modelos\"\n                  @submit=\"submitNewVeiculo()\">\n\n    </veiculo-form>\n    <veiculo-table :veiculos=\"veiculos\"></veiculo-table>\n  </div>\n</template>\n\n<script>\n  import AppHeader from './AppHeader'\n  import VeiculoForm from './form/VeiculoForm'\n  import VeiculoTable from './table/VeiculoTable'\n\n  export default {\n    components: {\n      AppHeader,\n      VeiculoForm,\n      VeiculoTable\n    },\n    data: function () {\n      return {\n        veiculos: [],\n        veiculo: {nome: '', condutor: null, fabricante: null, modelo: null},\n        condutores: [],\n        fabricantes: [],\n        modelos: [],\n        serverURL: process.env.VUE_APP_SERVER_URL\n      }\n    },\n    created () {\n      this.fetchData()\n    },\n    methods: {\n      fetchData: async function () {\n        try {\n          await Promise.all([\n            this.fetchVeiculos(),\n            this.fetchCondutores(),\n            this.fetchFabricantes(),\n            this.fetchModelos(),\n          ])\n        } catch (error) {\n          console.log(error)\n        }\n      },\n      fetchVeiculos: function () {\n        fetch(`${this.serverURL}/veiculo`)\n          .then(r => r.json())\n          .then(json => { this.veiculos = json })\n          .catch(error => console.error('Recuperação de erro veiculos: ' + error))\n      },\n      fetchCondutores: function () {\n        fetch(`${this.serverURL}/condutor`)\n          .then(r => r.json())\n          .then(json => { this.condutores = json })\n          .catch(error => console.error('Recuperação de erro condutores: ' + error))\n      },\n      fetchFabricantes: function () {\n        fetch(`${this.serverURL}/fabricante`)\n          .then(r => r.json())\n          .then(json => { this.fabricantes = json })\n          .catch(error => console.error('Recuperação de erro fabricantes: ' + error))\n      },\n      fetchModelos: function () {\n        fetch(`${this.serverURL}/modelo`)\n          .then(r => r.json())\n          .then(json => { this.modelos = json })\n          .catch(error => console.error('Recuperação de erro modelos: ' + error))\n      },\n      submitNewVeiculo: function () {\n        const veiculo = this.veiculo\n        fetch(`${this.serverURL}/veiculo`, {\n          method: 'POST',\n          headers: {'Content-Type': 'application/json'},\n          body: JSON.stringify(veiculo)\n        }).then(r => r.json())\n          .then(json => {\n            this.veiculos.push(json)\n            this.veiculo = {nome: '', condutor: null, fabricante: null, modelo: null}\n          })\n          .catch(ex => console.error('Impossível salvar veiculo', ex))\n      }\n    }\n  }\n</script>\n\n<!-- Per Component Custom CSS Rules -->\n<style>\n  #garage {\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    text-align: center;\n    color: #2c3e50;\n  }\n</style>"]}]}